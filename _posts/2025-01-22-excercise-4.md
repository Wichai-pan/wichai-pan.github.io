---
layout: post
title: POGPU
author: wichai
date: 2025-01-22 12:00
categories:
  - Study
  - Master
tags:
  - DU
mermaid: true
math: true
pin: false
---
# Exercise 4
#### Roofline analysis of matrix–vector multiplication

The goal of this exercise is to perform a roofline analysis of matrix–vector multiplication. We will look at the effect that compiler flags have on the performance of the generated code. Next, we will check whether the performance we obtain depends on the problem size. Finally, we will investigate loop blocking.

#### Background

Below you can find the file "dmvm.c", which contains a C implementation of matrix–vector multiplication, which computes

﻿﻿![y equals A x](data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Awrs%3D%22http%3A%2F%2Fwww.wiris.com%2Fxml%2Fmathml-extension%22%20height%3D%2224%22%20width%3D%2242%22%20wrs%3Abaseline%3D%2216%22%3E%3C!--MathML%3A%20%3Cmath%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1998%2FMath%2FMathML%22%3E%3Cmi%3Ey%3C%2Fmi%3E%3Cmo%3E%3D%3C%2Fmo%3E%3Cmi%3EA%3C%2Fmi%3E%3Cmi%3Ex%3C%2Fmi%3E%3C%2Fmath%3E--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40font-face%7Bfont-family%3A'stix_italicac8b851c04af9724bd0d'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAAKAIAAAwAgT1MvMi7PBGUAAACsAAAATmNtYXCzVj0TAAAA%2FAAAAERnbHlmJRz6cgAAAUAAAAGtaGVhZAjbCH4AAALwAAAANmhoZWEFzQfEAAADKAAAACRobXR4MBdqngAAA0wAAAAQbG9jYQadRmQAAANcAAAAFG1heHAFYQCJAAADcAAAACBuYW1l%2FMdHqQAAA5AAAAF7cG9zdAICAP8AAAUMAAAAIAAAAjsBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINcbAwL%2FGgAAA%2F8BMQAAAAAAAgABAAEAAAAUAAMAAQAAABQABAAwAAAACAAIAAIAAABBAHgAef%2F%2FAAAAQQB4AHn%2F%2F%2F%2FA%2F4r%2FigABAAAAAAAAAAAAAv%2FNAAACNAKcABoAHQAAISM1PgE1NC8BIwcGFRQXFSM1PgE3ATMTHgEXJwsBAjT1LSACFNw7Fj66Iis5AR0aXAocKMMtlRACGBsIEoNvKRkeAxAQBzJjAfD91z4iA%2FYBB%2F75AAH%2F5f%2F1Ab8BuQA%2FAAATFz4BMzIWFAYjIiYjIgcUHwEWMzI3PgI3Fw4BIyImLwEHDgEjIiY1NDYzMhcWMzI%2FAScuASMiDwEnNzYzMhbzDDVBIRIXEw8JHg0dRQggChQQHwMIBgQPKzIdGBoJHVgfJxkXGxMPDBQPCxEiUhwKERMMGxIDC1AlExYBYzlRPhUgFBF5DSCGKSgECwkECUMvHiZ3dyoaFhQPFQsJMXR8LBgHBRAEHSQAAf%2Fo%2FzIBqgG5ADMAADcXPgE1NCcmNTQ2MzIWFRQHDgEjIiY1NDYzMhYzMjc%2BATc2NTQmJy4BIyIHNTY3NjczMhbzFUM3GhoXERYeg06TKxccFxATHgwSHg0zBwo%2BFA4hHhAPFgopQgQLPbpubnMgEBARFhAVIBdX2oGeGBMRFxwhDUMLFA8e%2BzMlGwQRBAIICroAAAAAAQAAAAEAAAPuYGJfDzz1AAMD6P%2F%2F%2F%2F%2FT%2FGJk%2F%2F%2F%2F%2F9P8YmT8Nv7PBZUD%2FwAAAAoAAgABAAAAAAABAAAD%2F%2F7PAAAFx%2Fw2%2FhYFlQABAAAAAAAAAAAAAAAAAAAABAD6AAACY%2F%2FNAbz%2F5QG8%2F%2BgAAAAAAAAAAAAAAGQAAAEaAAABrQABAAAABACGAAgAAAAAAAIAAAABAAEAAABAAAAAAAAAAAAAFQECAAAAAAAAAAEAFgAAAAAAAAAAAAIADgAWAAAAAAAAAAMAGAAkAAAAAAAAAAQAFgA8AAAAAAAAAAUAHABSAAAAAAAAAAYACwBuAAAAAAAAAAgAAAB5AAEAAAAAAAEAFgAAAAEAAAAAAAIADgAWAAEAAAAAAAMAGAAkAAEAAAAAAAQAFgA8AAEAAAAAAAUAHABSAAEAAAAAAAYACwBuAAEAAAAAAAgAAAB5AAMAAQQJAAEAFgAAAAMAAQQJAAIADgAWAAMAAQQJAAMAGAAkAAMAAQQJAAQAFgA8AAMAAQQJAAUAHABSAAMAAQQJAAYACwBuAAMAAQQJAAgAAAB5AFMAVABJAFgALQBJAHQAYQBsAGkAYwBSAGUAZwB1AGwAYQByACAAUwBUAEkAWAAtAEkAdABhAGwAaQBjAFMAVABJAFgALQBJAHQAYQBsAGkAYwBWAGUAcgBzAGkAbwBuACAAMQAuADEALgAxACBTVElYLUl0YWxpYwAAAwAAAAAAAAH%2FAP8AAAAAAAAAAAAAAAAAAAAAAAAAAA%3D%3D)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%40font-face%7Bfont-family%3A'stix7f39f8317fbdb1988ef4c628eba'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAANAIAAAwBQT1MvMi8nBU0AAADcAAAATmNtYXDCjdaBAAABLAAAADRjdnQgSG4BcAAAAWAAAADYZnBnbUUgjnwAAAI4AAANbWdseWYcKO%2BSAAAPqAAAAEpoZWFkDLPdGwAAD%2FQAAAA2aGhlYQjYEyQAABAsAAAAJGhtdHg0LeORAAAQUAAAAAhsb2NhTQ9wLwAAEFgAAAAMbWF4cBlhFX0AABBkAAAAIG5hbWV4T00CAAAQhAAAAZ5wb3N0AgIA%2FwAAEiQAAAAgcHJlcFWzoI8AABJEAAAAvAAAApwBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINf%2FAqX%2BvQAAA%2F8B5gAAAAAAAgABAAEAAAAUAAMAAQAAABQABAAgAAAABAAEAAEAAAA9%2F%2F8AAAA9%2F%2F%2F%2FxAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFoAWgAcABwClgAAAcIAAP8nA%2F%2F%2BGgKk%2F%2FIBzP%2F2%2FyYD%2F%2F4aAFkAWQAgACAClgAAAqsBwv%2F2%2FycD%2F%2F4aAqT%2F8gKrAcz%2F9v8mA%2F%2F%2BGgBaAFoAHAAcApYAAAKrAcIAAP8nA%2F%2F%2BGgKk%2F%2FICqwHM%2F%2Fb%2FJgP%2F%2FhoAWgBaABwAHAKWAQ4CqwI6AVD%2F7AP%2F%2FhoCpP%2FyAqsCOv%2F2%2F%2BwD%2F%2F4aABgAGAAYABgD%2F%2F4aA%2F%2F%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%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%2FKy2wdyyxADsrsEArLbB4LLEBOyuwPistsHkssQE7K7A%2FKy2weiyxATsrsEArLbB7LLEAPCsusS4BFCstsHwssQA8K7A%2BKy2wfSyxADwrsD8rLbB%2BLLEAPCuwQCstsH8ssQE8K7A%2BKy2wgCyxATwrsD8rLbCBLLEBPCuwQCstsIIssQA9Ky6xLgEUKy2wgyyxAD0rsD4rLbCELLEAPSuwPystsIUssQA9K7BAKy2whiyxAT0rsD4rLbCHLLEBPSuwPystsIgssQE9K7BAKy2wiSyzCQQCA0VYIRsjIVlCK7AIZbADJFB4sQUBFUVYMFktAAAAAAIAMAB4An0BggADAAcAIkAfAAEAAAMBAGUAAwICA1UAAwMCXQACAwJNEREREAQJGCsBITUhESE1IQJ9%2FbMCTf2zAk0BQEL%2B9kIAAAABAAAAAQAAM5ipa18PPPUAAwPo%2F%2F%2F%2F%2F9RjTQ3%2F%2F%2F%2F%2F1GNNDfw2%2FhoIoAP%2FAAAACgACAAEAAAAAAAEAAAP%2F%2FhoAAAj4%2FDb9yQigAAEAAAAAAAAAAAAAAAAAAAACAPoAAAKtADAAAAAAAAAAAAAAAEoAAQAAAAIHDAEtAAAAAAACA4gDmgCLAAAF2ArVAAAAAAAAABUBAgAAAAAAAAABACAAAAAAAAAAAAACAA4AIAAAAAAAAAADACIALgAAAAAAAAAEACAAUAAAAAAAAAAFABwAcAAAAAAAAAAGABAAjAAAAAAAAAAIAAAAnAABAAAAAAABACAAAAABAAAAAAACAA4AIAABAAAAAAADACIALgABAAAAAAAEACAAUAABAAAAAAAFABwAcAABAAAAAAAGABAAjAABAAAAAAAIAAAAnAADAAEECQABACAAAAADAAEECQACAA4AIAADAAEECQADACIALgADAAEECQAEACAAUAADAAEECQAFABwAcAADAAEECQAGABAAjAADAAEECQAIAAAAnABTAFQASQBYAC0AUgBlAGcAdQBsAGEAcgAtAFQAVABGAFIAZQBnAHUAbABhAHIAIABTAFQASQBYAC0AUgBlAGcAdQBsAGEAcgAtAFQAVABGAFMAVABJAFgALQBSAGUAZwB1AGwAYQByAC0AVABUAEYAVgBlAHIAcwBpAG8AbgAgADEALgAxAC4AMQAgU1RJWC1SZWd1bGFyLVRURgAAAAMAAAAAAAAB%2FwD%2FAAAAAAAAAAAAAAAAAAAAAAAAAAAAS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAdCtgBfSzcjBQAqsQAHQkAMZgJSCD4IKggYBwUIKrEAB0JADGoAXAZIBjQGIQUFCCqxAAxCvhnAFMAPwArABkAABQAJKrEAEUK%2BAEAAQABAAEAAQAAFAAkqsQMARLEkAYhRWLBAiFixAwBEsSYBiFFYugiAAAEEQIhjVFixAwBEWVlZWUAMaAJUCEAILAgaBwUMKrgB%2F4WwBI2xAgBEswVkBgBERA%3D%3D)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctext%20font-family%3D%22stix_italicac8b851c04af9724bd0d%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%223.5%22%20y%3D%2216%22%3Ey%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix7f39f8317fbdb1988ef4c628eba%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2215.5%22%20y%3D%2216%22%3E%3D%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix_italicac8b851c04af9724bd0d%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2228.5%22%20y%3D%2216%22%3EA%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix_italicac8b851c04af9724bd0d%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2236.5%22%20y%3D%2216%22%3Ex%3C%2Ftext%3E%3C%2Fsvg%3E)

for a ﻿﻿![n subscript text row end text end subscript cross times n subscript text col end text end subscript](data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Awrs%3D%22http%3A%2F%2Fwww.wiris.com%2Fxml%2Fmathml-extension%22%20height%3D%2230%22%20width%3D%2270%22%20wrs%3Abaseline%3D%2216%22%3E%3C!--MathML%3A%20%3Cmath%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1998%2FMath%2FMathML%22%3E%3Cmsub%3E%3Cmi%3En%3C%2Fmi%3E%3Cmtext%3Erow%3C%2Fmtext%3E%3C%2Fmsub%3E%3Cmo%3E%26%23xD7%3B%3C%2Fmo%3E%3Cmsub%3E%3Cmi%3En%3C%2Fmi%3E%3Cmtext%3Ecol%3C%2Fmtext%3E%3C%2Fmsub%3E%3C%2Fmath%3E--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40font-face%7Bfont-family%3A'stix_italic5f93f983524def3dca46'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAAKAIAAAwAgT1MvMi7PBGUAAACsAAAATmNtYXCzVj0TAAAA%2FAAAADRnbHlmJRz6cgAAATAAAACSaGVhZAjbCH4AAAHEAAAANmhoZWEFzQfEAAAB%2FAAAACRobXR4MBdqngAAAiAAAAAIbG9jYQadRmQAAAIoAAAADG1heHAFYQCJAAACNAAAACBuYW1l%2FMdHqQAAAlQAAAF7cG9zdAICAP8AAAPQAAAAIAAAAjsBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINcbAwL%2FGgAAA%2F8BMQAAAAAAAgABAAEAAAAUAAMAAQAAABQABAAgAAAABAAEAAEAAABu%2F%2F8AAABu%2F%2F%2F%2FkwABAAAAAAABAA7%2F9wHaAbkAMQAAJRcOASMiJjU0PwE2NTQjIgYHDgEHIxM2NTQmJzU%2BATcXBz4BMzIWFRQPAQYVFDMyNzYBzA4zNiMUGxAsDhgdRTIhHyRLYAIbJidgGwRDSmwxHyIKOA4QEyoHdQ1GKxsbEDuiNhkdRUkxTnkBXgoHDwsBEAgRBgLadmYhHBkjyzILEjUIAAAAAQAAAAEAAAPuYGJfDzz1AAMD6P%2F%2F%2F%2F%2FT%2FGJk%2F%2F%2F%2F%2F9P8YmT8Nv7PBZUD%2FwAAAAoAAgABAAAAAAABAAAD%2F%2F7PAAAFx%2Fw2%2FhYFlQABAAAAAAAAAAAAAAAAAAAAAgD6AAAB9AAOAAAAAAAAAAAAAACSAAEAAAACAIYACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAAAVAQIAAAAAAAAAAQAWAAAAAAAAAAAAAgAOABYAAAAAAAAAAwAYACQAAAAAAAAABAAWADwAAAAAAAAABQAcAFIAAAAAAAAABgALAG4AAAAAAAAACAAAAHkAAQAAAAAAAQAWAAAAAQAAAAAAAgAOABYAAQAAAAAAAwAYACQAAQAAAAAABAAWADwAAQAAAAAABQAcAFIAAQAAAAAABgALAG4AAQAAAAAACAAAAHkAAwABBAkAAQAWAAAAAwABBAkAAgAOABYAAwABBAkAAwAYACQAAwABBAkABAAWADwAAwABBAkABQAcAFIAAwABBAkABgALAG4AAwABBAkACAAAAHkAUwBUAEkAWAAtAEkAdABhAGwAaQBjAFIAZQBnAHUAbABhAHIAIABTAFQASQBYAC0ASQB0AGEAbABpAGMAUwBUAEkAWAAtAEkAdABhAGwAaQBjAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAuADEAIFNUSVgtSXRhbGljAAADAAAAAAAAAf8A%2FwAAAAAAAAAAAAAAAAAAAAAAAAAA)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%40font-face%7Bfont-family%3A'stix9dad9a7f56505e4c3be525d12b5'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAANAIAAAwBQT1MvMi8nBU0AAADcAAAATmNtYXDCjdaBAAABLAAAAFxjdnQgSG4BcAAAAYgAAADYZnBnbUUgjnwAAAJgAAANbWdseWYcKO%2BSAAAP0AAAAw9oZWFkDLPdGwAAEuAAAAA2aGhlYQjYEyQAABMYAAAAJGhtdHg0LeORAAATPAAAABxsb2NhTQ9wLwAAE1gAAAAgbWF4cBlhFX0AABN4AAAAIG5hbWV4T00CAAATmAAAAZ5wb3N0AgIA%2FwAAFTgAAAAgcHJlcFWzoI8AABVYAAAAvAAAApwBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINf%2FAqX%2BvQAAA%2F8B5gAAAAAAAgABAAEAAAAUAAMAAQAAABQABABIAAAADgAIAAIABgBjAGwAbwByAHcA1%2F%2F%2FAAAAYwBsAG8AcgB3ANf%2F%2F%2F%2Be%2F5b%2FlP%2BS%2F47%2FLwABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaAFoAHAAcApYAAAHCAAD%2FJwP%2F%2FhoCpP%2FyAcz%2F9v8mA%2F%2F%2BGgBZAFkAIAAgApYAAAKrAcL%2F9v8nA%2F%2F%2BGgKk%2F%2FICqwHM%2F%2Fb%2FJgP%2F%2FhoAWgBaABwAHAKWAAACqwHCAAD%2FJwP%2F%2FhoCpP%2FyAqsBzP%2F2%2FyYD%2F%2F4aAFoAWgAcABwClgEOAqsCOgFQ%2F%2BwD%2F%2F4aAqT%2F8gKrAjr%2F9v%2FsA%2F%2F%2BGgAYABgAGAAYA%2F%2F%2BGgP%2F%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%2BKy2wbyyxADorsD8rLbBwLLAAFrEAOiuwQCstsHEssQE6K7A%2BKy2wciyxATorsD8rLbBzLLAAFrEBOiuwQCstsHQssQA7Ky6xLgEUKy2wdSyxADsrsD4rLbB2LLEAOyuwPystsHcssQA7K7BAKy2weCyxATsrsD4rLbB5LLEBOyuwPystsHossQE7K7BAKy2weyyxADwrLrEuARQrLbB8LLEAPCuwPistsH0ssQA8K7A%2FKy2wfiyxADwrsEArLbB%2FLLEBPCuwPistsIAssQE8K7A%2FKy2wgSyxATwrsEArLbCCLLEAPSsusS4BFCstsIMssQA9K7A%2BKy2whCyxAD0rsD8rLbCFLLEAPSuwQCstsIYssQE9K7A%2BKy2whyyxAT0rsD8rLbCILLEBPSuwQCstsIksswkEAgNFWCEbIyFZQiuwCGWwAyRQeLEFARVFWDBZLQAAAAABABn%2F9gGcAcwAIAAuQCsBAQQCAUoAAgMEAwIEfgADAwFfAAEBS0sABAQAXwAAAEwATCQkJCUkBQkZKyUXBgcGIyImNTQ3NjMyFhUUBiMiLwEuASMiBhUUFjMyNgGODisnM0BTa1Q%2BST9bHBMjDQYIGBs9S1ZFKz6cCVQfKn1hf0YzPSoRGS4WHBRgTlZtKQABABMAAAEBAqsAEwAoQCULAQIBAgEAAgJKDwwCAUgAAQIBgwACAgBdAAAAQQBMGCcQAwkXKyEjNT4BNRE0JiMiBzU2NxcRFBYXAQHsLx4SGBUQXz8FHC8PBB8qAdUkHAIQFxUE%2FbAqGwMAAgAd%2F%2FYB1gHMAAsAGQAfQBwAAgIBXwABAUtLAAMDAF8AAABMAEwlJSQiBAkYKyUUBiMiJjU0NjMyFgc0JyYjIgYVFBcWMzI2AdZ9ZFx8fGVde1oyKDc0QDUiODc%2F52mIh2dogH%2BBckAyVUqATTJjAAEABQAAAU8BzAAkAD1AOiIBAgAhAQIBAhgBBAMDSiQBAEgFAQIAAQACAX4AAQEAXwAAAEtLAAMDBF0ABARBBEwnERUiJCMGCRorExU%2BATMyFhUUBiMiJyYjIgYdARQWFxUjNT4BPQE0JiMiBzU2N6AmMx8aHRUSExUQChUxIjPwMBcPExATP1UBylw2KBwZFRgUDzoY4SseAg8PCRYm%2BiEbBBAUIgABABX%2F8gK2AcIAMQAuQCswKiUiHh0XFAsBCgACAUoFBAMDAgJDSwEBAABJAEwAAAAxADEdFiUmBgkYKwEVDgEHAwYjIiYvAQcGIyInAy4BJzUzFQ4BFRQXEzcnLgEnNTMVDgEUHwE3NjU0Jic1ArYPDgyKFAgFBwxbcBIHCRGHDxQStBoUBmNbFA4bHMsjFxFUWhETGQHCDwUTHv6mMQ0e7PAnLAFWJxYCDw8DDhAPD%2F77xzgoGgMPDwUOICzg3ioZDA0FDwABACv%2F5wJVAhEACwAGswcBATArJQcnByc3JzcXNxcHAlUu5%2Bcu5uYv5ucu5hYv5uYu5%2Bcu5uYt6AAAAQAAAAEAADOYqWtfDzz1AAMD6P%2F%2F%2F%2F%2FUY00N%2F%2F%2F%2F%2F9RjTQ38Nv4aCKAD%2FwAAAAoAAgABAAAAAAABAAAD%2F%2F4aAAAI%2BPw2%2FckIoAABAAAAAAAAAAAAAAAAAAAABwD6AAABvAAZARYAEwH0AB0BTQAFAtIAFQKAACsAAAAAAAAAAAAAAJAAAAD6AAABagAAAhAAAALWAAADDwABAAAABwcMAS0AAAAAAAIDiAOaAIsAAAXYCtUAAAAAAAAAFQECAAAAAAAAAAEAIAAAAAAAAAAAAAIADgAgAAAAAAAAAAMAIgAuAAAAAAAAAAQAIABQAAAAAAAAAAUAHABwAAAAAAAAAAYAEACMAAAAAAAAAAgAAACcAAEAAAAAAAEAIAAAAAEAAAAAAAIADgAgAAEAAAAAAAMAIgAuAAEAAAAAAAQAIABQAAEAAAAAAAUAHABwAAEAAAAAAAYAEACMAAEAAAAAAAgAAACcAAMAAQQJAAEAIAAAAAMAAQQJAAIADgAgAAMAAQQJAAMAIgAuAAMAAQQJAAQAIABQAAMAAQQJAAUAHABwAAMAAQQJAAYAEACMAAMAAQQJAAgAAACcAFMAVABJAFgALQBSAGUAZwB1AGwAYQByAC0AVABUAEYAUgBlAGcAdQBsAGEAcgAgAFMAVABJAFgALQBSAGUAZwB1AGwAYQByAC0AVABUAEYAUwBUAEkAWAAtAFIAZQBnAHUAbABhAHIALQBUAFQARgBWAGUAcgBzAGkAbwBuACAAMQAuADEALgAxACBTVElYLVJlZ3VsYXItVFRGAAAAAwAAAAAAAAH%2FAP8AAAAAAAAAAAAAAAAAAAAAAAAAAABLuADIUlixAQGOWbABuQgACABjcLEAB0K2AF9LNyMFACqxAAdCQAxmAlIIPggqCBgHBQgqsQAHQkAMagBcBkgGNAYhBQUIKrEADEK%2BGcAUwA%2FACsAGQAAFAAkqsQARQr4AQABAAEAAQABAAAUACSqxAwBEsSQBiFFYsECIWLEDAESxJgGIUVi6CIAAAQRAiGNUWLEDAERZWVlZQAxoAlQIQAgsCBoHBQwquAH%2FhbAEjbECAESzBWQGAERE)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctext%20font-family%3D%22stix_italic5f93f983524def3dca46%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%224.5%22%20y%3D%2216%22%3En%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix9dad9a7f56505e4c3be525d12b5%22%20font-size%3D%2212%22%20text-anchor%3D%22middle%22%20x%3D%2219.5%22%20y%3D%2225%22%3Erow%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix9dad9a7f56505e4c3be525d12b5%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2236.5%22%20y%3D%2216%22%3E%26%23xD7%3B%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix_italic5f93f983524def3dca46%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2248.5%22%20y%3D%2216%22%3En%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix9dad9a7f56505e4c3be525d12b5%22%20font-size%3D%2212%22%20text-anchor%3D%22middle%22%20x%3D%2261.5%22%20y%3D%2225%22%3Ecol%3C%2Ftext%3E%3C%2Fsvg%3E) rectangular matrix of doubles. The code accepts two command-line arguments: 

- the number of rows and
- the number of columns. 

When run, the program generates the matrices, performs the computation and prints out information about the performance. For example, after compiling and running with "./dmvm 1000 2000" you might see output similar to 1019 1000 2000 6491.23. 

The four columns are:

1. the number of iterations the test was run for;
2. the number of rows the matrix had;
3. the number of columns the matrix had; and
4. the performance in MFlops/s.

#### Downloading and compiling the code

We’ll use the gcc compiler for this exercise, thus in addition to the likwid module you should load the module with the compiler.

#### Compilation without any optimisations

First, we will compile without any optimisations.

You should now be able to run the dmvm binary with ./dmvm 4000 4000 for a ﻿﻿![4000 cross times 4000](data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Awrs%3D%22http%3A%2F%2Fwww.wiris.com%2Fxml%2Fmathml-extension%22%20height%3D%2223%22%20width%3D%2280%22%20wrs%3Abaseline%3D%2216%22%3E%3C!--MathML%3A%20%3Cmath%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1998%2FMath%2FMathML%22%3E%3Cmn%3E4000%3C%2Fmn%3E%3Cmo%3E%26%23xD7%3B%3C%2Fmo%3E%3Cmn%3E4000%3C%2Fmn%3E%3C%2Fmath%3E--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40font-face%7Bfont-family%3A'stix3cba8dc8aa885ef2eb2d70630e9'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAANAIAAAwBQT1MvMi8nBU0AAADcAAAATmNtYXDCjdaBAAABLAAAAERjdnQgSG4BcAAAAXAAAADYZnBnbUUgjnwAAAJIAAANbWdseWYcKO%2BSAAAPuAAAARloZWFkDLPdGwAAENQAAAA2aGhlYQjYEyQAABEMAAAAJGhtdHg0LeORAAARMAAAABBsb2NhTQ9wLwAAEUAAAAAUbWF4cBlhFX0AABFUAAAAIG5hbWV4T00CAAARdAAAAZ5wb3N0AgIA%2FwAAExQAAAAgcHJlcFWzoI8AABM0AAAAvAAAApwBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINf%2FAqX%2BvQAAA%2F8B5gAAAAAAAgABAAEAAAAUAAMAAQAAABQABAAwAAAACAAIAAIAAAAwADQA1%2F%2F%2FAAAAMAA0ANf%2F%2F%2F%2FR%2F87%2FLAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaAFoAHAAcApYAAAHCAAD%2FJwP%2F%2FhoCpP%2FyAcz%2F9v8mA%2F%2F%2BGgBZAFkAIAAgApYAAAKrAcL%2F9v8nA%2F%2F%2BGgKk%2F%2FICqwHM%2F%2Fb%2FJgP%2F%2FhoAWgBaABwAHAKWAAACqwHCAAD%2FJwP%2F%2FhoCpP%2FyAqsBzP%2F2%2FyYD%2F%2F4aAFoAWgAcABwClgEOAqsCOgFQ%2F%2BwD%2F%2F4aAqT%2F8gKrAjr%2F9v%2FsA%2F%2F%2BGgAYABgAGAAYA%2F%2F%2BGgP%2F%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%2BKy2wbyyxADorsD8rLbBwLLAAFrEAOiuwQCstsHEssQE6K7A%2BKy2wciyxATorsD8rLbBzLLAAFrEBOiuwQCstsHQssQA7Ky6xLgEUKy2wdSyxADsrsD4rLbB2LLEAOyuwPystsHcssQA7K7BAKy2weCyxATsrsD4rLbB5LLEBOyuwPystsHossQE7K7BAKy2weyyxADwrLrEuARQrLbB8LLEAPCuwPistsH0ssQA8K7A%2FKy2wfiyxADwrsEArLbB%2FLLEBPCuwPistsIAssQE8K7A%2FKy2wgSyxATwrsEArLbCCLLEAPSsusS4BFCstsIMssQA9K7A%2BKy2whCyxAD0rsD8rLbCFLLEAPSuwQCstsIYssQE9K7A%2BKy2whyyxAT0rsD8rLbCILLEBPSuwQCstsIksswkEAgNFWCEbIyFZQiuwCGWwAyRQeLEFARVFWDBZLQAAAAACABj%2F8gHcAqQAEAAcAB9AHAACAgFfAAEBSEsAAwMAXwAAAEkATCQkJyQECRgrARQOAiMiLgI1ND4BMzIWBzQmIyIGFRQWMzI2AdwaM1o7PVwyFy5rTWJ8YENBPkJCQD9DAUpDd2Q6Pmh2Ql2VYsCfnqeomZqjowACAAwAAAHZAqQACgANADJALwwBBAMBSgYBBAFJBgUCBAIBAAEEAGUAAwNCSwABAUEBTAsLCw0LDRESEREQBwkZKyUjFSM1ITUBMxEzIxEDAdlnTv7oATosZ7Xwp6enQAG9%2FkMBV%2F6pAAEAK%2F%2FnAlUCEQALAAazBwEBMCslBycHJzcnNxc3FwcCVS7n5y7m5i%2Fm5y7mFi%2Fm5i7n5y7m5i3oAAAAAAEAAAABAAAzmKlrXw889QADA%2Bj%2F%2F%2F%2F%2F1GNNDf%2F%2F%2F%2F%2FUY00N%2FDb%2BGgigA%2F8AAAAKAAIAAQAAAAAAAQAAA%2F%2F%2BGgAACPj8Nv3JCKAAAQAAAAAAAAAAAAAAAAAAAAQA%2BgAAAfQAGAH0AAwCgAArAAAAAAAAAAAAAAB4AAAA4AAAARkAAQAAAAQHDAEtAAAAAAACA4gDmgCLAAAF2ArVAAAAAAAAABUBAgAAAAAAAAABACAAAAAAAAAAAAACAA4AIAAAAAAAAAADACIALgAAAAAAAAAEACAAUAAAAAAAAAAFABwAcAAAAAAAAAAGABAAjAAAAAAAAAAIAAAAnAABAAAAAAABACAAAAABAAAAAAACAA4AIAABAAAAAAADACIALgABAAAAAAAEACAAUAABAAAAAAAFABwAcAABAAAAAAAGABAAjAABAAAAAAAIAAAAnAADAAEECQABACAAAAADAAEECQACAA4AIAADAAEECQADACIALgADAAEECQAEACAAUAADAAEECQAFABwAcAADAAEECQAGABAAjAADAAEECQAIAAAAnABTAFQASQBYAC0AUgBlAGcAdQBsAGEAcgAtAFQAVABGAFIAZQBnAHUAbABhAHIAIABTAFQASQBYAC0AUgBlAGcAdQBsAGEAcgAtAFQAVABGAFMAVABJAFgALQBSAGUAZwB1AGwAYQByAC0AVABUAEYAVgBlAHIAcwBpAG8AbgAgADEALgAxAC4AMQAgU1RJWC1SZWd1bGFyLVRURgAAAAMAAAAAAAAB%2FwD%2FAAAAAAAAAAAAAAAAAAAAAAAAAAAAS7gAyFJYsQEBjlmwAbkIAAgAY3CxAAdCtgBfSzcjBQAqsQAHQkAMZgJSCD4IKggYBwUIKrEAB0JADGoAXAZIBjQGIQUFCCqxAAxCvhnAFMAPwArABkAABQAJKrEAEUK%2BAEAAQABAAEAAQAAFAAkqsQMARLEkAYhRWLBAiFixAwBEsSYBiFFYugiAAAEEQIhjVFixAwBEWVlZWUAMaAJUCEAILAgaBwUMKrgB%2F4WwBI2xAgBEswVkBgBERA%3D%3D)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctext%20font-family%3D%22stix3cba8dc8aa885ef2eb2d70630e9%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2216.5%22%20y%3D%2216%22%3E4000%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix3cba8dc8aa885ef2eb2d70630e9%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2239.5%22%20y%3D%2216%22%3E%26%23xD7%3B%3C%2Ftext%3E%3Ctext%20font-family%3D%22stix3cba8dc8aa885ef2eb2d70630e9%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2263.5%22%20y%3D%2216%22%3E4000%3C%2Ftext%3E%3C%2Fsvg%3E) matrix.

#### Obtain the machine and code characteristics

To perform a roofline analysis, we need the machine and code characteristics.

#### Exercise

Measure the main memory streaming memory bandwidth using the triad benchmark of likwid-bench.

#### Exercise

Compute the peak floating point throughput of a compute node. The maximum frequency of a single core of a compute node of Hamilton is 3.35GHz, and in ideal conditions each core can issues two double-precision FMAs (fused multiply-add instructions) per cycle.

#### Exercise

Read the code, in particular the dmvm function and determine the best case arithmetic intensity by counting data accesses (using the perfect cache model) and floating point operations.

#### Produce a roofline plot of -O0 compiled code

#### Exercise

Using a fixed number of columns ﻿﻿![n subscript text col end text end subscript equals 10000](data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Awrs%3D%22http%3A%2F%2Fwww.wiris.com%2Fxml%2Fmathml-extension%22%20height%3D%2230%22%20width%3D%2281%22%20wrs%3Abaseline%3D%2216%22%3E%3C!--MathML%3A%20%3Cmath%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1998%2FMath%2FMathML%22%3E%3Cmsub%3E%3Cmi%3En%3C%2Fmi%3E%3Cmtext%3Ecol%3C%2Fmtext%3E%3C%2Fmsub%3E%3Cmo%3E%3D%3C%2Fmo%3E%3Cmn%3E10000%3C%2Fmn%3E%3C%2Fmath%3E--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40font-face%7Bfont-family%3A'stix_italic5f93f983524def3dca46'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAAKAIAAAwAgT1MvMi7PBGUAAACsAAAATmNtYXCzVj0TAAAA%2FAAAADRnbHlmJRz6cgAAATAAAACSaGVhZAjbCH4AAAHEAAAANmhoZWEFzQfEAAAB%2FAAAACRobXR4MBdqngAAAiAAAAAIbG9jYQadRmQAAAIoAAAADG1heHAFYQCJAAACNAAAACBuYW1l%2FMdHqQAAAlQAAAF7cG9zdAICAP8AAAPQAAAAIAAAAjsBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINcbAwL%2FGgAAA%2F8BMQAAAAAAAgABAAEAAAAUAAMAAQAAABQABAAgAAAABAAEAAEAAABu%2F%2F8AAABu%2F%2F%2F%2FkwABAAAAAAABAA7%2F9wHaAbkAMQAAJRcOASMiJjU0PwE2NTQjIgYHDgEHIxM2NTQmJzU%2BATcXBz4BMzIWFRQPAQYVFDMyNzYBzA4zNiMUGxAsDhgdRTIhHyRLYAIbJidgGwRDSmwxHyIKOA4QEyoHdQ1GKxsbEDuiNhkdRUkxTnkBXgoHDwsBEAgRBgLadmYhHBkjyzILEjUIAAAAAQAAAAEAAAPuYGJfDzz1AAMD6P%2F%2F%2F%2F%2FT%2FGJk%2F%2F%2F%2F%2F9P8YmT8Nv7PBZUD%2FwAAAAoAAgABAAAAAAABAAAD%2F%2F7PAAAFx%2Fw2%2FhYFlQABAAAAAAAAAAAAAAAAAAAAAgD6AAAB9AAOAAAAAAAAAAAAAACSAAEAAAACAIYACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAAAVAQIAAAAAAAAAAQAWAAAAAAAAAAAAAgAOABYAAAAAAAAAAwAYACQAAAAAAAAABAAWADwAAAAAAAAABQAcAFIAAAAAAAAABgALAG4AAAAAAAAACAAAAHkAAQAAAAAAAQAWAAAAAQAAAAAAAgAOABYAAQAAAAAAAwAYACQAAQAAAAAABAAWADwAAQAAAAAABQAcAFIAAQAAAAAABgALAG4AAQAAAAAACAAAAHkAAwABBAkAAQAWAAAAAwABBAkAAgAOABYAAwABBAkAAwAYACQAAwABBAkABAAWADwAAwABBAkABQAcAFIAAwABBAkABgALAG4AAwABBAkACAAAAHkAUwBUAEkAWAAtAEkAdABhAGwAaQBjAFIAZQBnAHUAbABhAHIAIABTAFQASQBYAC0ASQB0AGEAbABpAGMAUwBUAEkAWAAtAEkAdABhAGwAaQBjAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAuADEAIFNUSVgtSXRhbGljAAADAAAAAAAAAf8A%2FwAAAAAAAAAAAAAAAAAAAAAAAAAA)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%40font-face%7Bfont-family%3A'stixf1cab27a940ad377cff6c496573'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAANAIAAAwBQT1MvMi8nBU0AAADcAAAATmNtYXDCjdaBAAABLAAAAFxjdnQgSG4BcAAAAYgAAADYZnBnbUUgjnwAAAJgAAANbWdseWYcKO%2BSAAAP0AAAApFoZWFkDLPdGwAAEmQAAAA2aGhlYQjYEyQAABKcAAAAJGhtdHg0LeORAAASwAAAABxsb2NhTQ9wLwAAEtwAAAAgbWF4cBlhFX0AABL8AAAAIG5hbWV4T00CAAATHAAAAZ5wb3N0AgIA%2FwAAFLwAAAAgcHJlcFWzoI8AABTcAAAAvAAAApwBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINf%2FAqX%2BvQAAA%2F8B5gAAAAAAAgABAAEAAAAUAAMAAQAAABQABABIAAAADgAIAAIABgAwADEAPQBjAGwAb%2F%2F%2FAAAAMAAxAD0AYwBsAG%2F%2F%2F%2F%2FR%2F9H%2Fxv%2Bh%2F5n%2FlwABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaAFoAHAAcApYAAAHCAAD%2FJwP%2F%2FhoCpP%2FyAcz%2F9v8mA%2F%2F%2BGgBZAFkAIAAgApYAAAKrAcL%2F9v8nA%2F%2F%2BGgKk%2F%2FICqwHM%2F%2Fb%2FJgP%2F%2FhoAWgBaABwAHAKWAAACqwHCAAD%2FJwP%2F%2FhoCpP%2FyAqsBzP%2F2%2FyYD%2F%2F4aAFoAWgAcABwClgEOAqsCOgFQ%2F%2BwD%2F%2F4aAqT%2F8gKrAjr%2F9v%2FsA%2F%2F%2BGgAYABgAGAAYA%2F%2F%2BGgP%2F%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%2BKy2wbyyxADorsD8rLbBwLLAAFrEAOiuwQCstsHEssQE6K7A%2BKy2wciyxATorsD8rLbBzLLAAFrEBOiuwQCstsHQssQA7Ky6xLgEUKy2wdSyxADsrsD4rLbB2LLEAOyuwPystsHcssQA7K7BAKy2weCyxATsrsD4rLbB5LLEBOyuwPystsHossQE7K7BAKy2weyyxADwrLrEuARQrLbB8LLEAPCuwPistsH0ssQA8K7A%2FKy2wfiyxADwrsEArLbB%2FLLEBPCuwPistsIAssQE8K7A%2FKy2wgSyxATwrsEArLbCCLLEAPSsusS4BFCstsIMssQA9K7A%2BKy2whCyxAD0rsD8rLbCFLLEAPSuwQCstsIYssQE9K7A%2BKy2whyyxAT0rsD8rLbCILLEBPSuwQCstsIksswkEAgNFWCEbIyFZQiuwCGWwAyRQeLEFARVFWDBZLQAAAAACABj%2F8gHcAqQAEAAcAB9AHAACAgFfAAEBSEsAAwMAXwAAAEkATCQkJyQECRgrARQOAiMiLgI1ND4BMzIWBzQmIyIGFRQWMzI2AdwaM1o7PVwyFy5rTWJ8YENBPkJCQD9DAUpDd2Q6Pmh2Ql2VYsCfnqeomZqjowABAG8AAAGKAqQAEgAmQCMMCwIBAgFKDgECSAACAQKDAwEBAQBdAAAAQQBMGCQREAQJGCspATU%2BATURNCMiDwE1NxcRFBYzAYr%2B7DcoHg4fG7MJKDcPAyMqAcExDAoOWwP9qyEcAAIAMAB4An0BggADAAcAIkAfAAEAAAMBAGUAAwICA1UAAwMCXQACAwJNEREREAQJGCsBITUhESE1IQJ9%2FbMCTf2zAk0BQEL%2B9kIAAQAZ%2F%2FYBnAHMACAALkArAQEEAgFKAAIDBAMCBH4AAwMBXwABAUtLAAQEAF8AAABMAEwkJCQlJAUJGSslFwYHBiMiJjU0NzYzMhYVFAYjIi8BLgEjIgYVFBYzMjYBjg4rJzNAU2tUPkk%2FWxwTIw0GCBgbPUtWRSs%2BnAlUHyp9YX9GMz0qERkuFhwUYE5WbSkAAQATAAABAQKrABMAKEAlCwECAQIBAAICSg8MAgFIAAECAYMAAgIAXQAAAEEATBgnEAMJFyshIzU%2BATURNCYjIgc1NjcXERQWFwEB7C8eEhgVEF8%2FBRwvDwQfKgHVJBwCEBcVBP2wKhsDAAIAHf%2F2AdYBzAALABkAH0AcAAICAV8AAQFLSwADAwBfAAAATABMJSUkIgQJGCslFAYjIiY1NDYzMhYHNCcmIyIGFRQXFjMyNgHWfWRcfHxlXXtaMig3NEA1Ijg3P%2BdpiIdnaIB%2FgXJAMlVKgE0yYwAAAAABAAAAAQAAM5ipa18PPPUAAwPo%2F%2F%2F%2F%2F9RjTQ3%2F%2F%2F%2F%2F1GNNDfw2%2FhoIoAP%2FAAAACgACAAEAAAAAAAEAAAP%2F%2FhoAAAj4%2FDb9yQigAAEAAAAAAAAAAAAAAAAAAAAHAPoAAAH0ABgB9ABvAq0AMAG8ABkBFgATAfQAHQAAAAAAAAAAAAAAeAAAAN0AAAEnAAABtwAAAiEAAAKRAAEAAAAHBwwBLQAAAAAAAgOIA5oAiwAABdgK1QAAAAAAAAAVAQIAAAAAAAAAAQAgAAAAAAAAAAAAAgAOACAAAAAAAAAAAwAiAC4AAAAAAAAABAAgAFAAAAAAAAAABQAcAHAAAAAAAAAABgAQAIwAAAAAAAAACAAAAJwAAQAAAAAAAQAgAAAAAQAAAAAAAgAOACAAAQAAAAAAAwAiAC4AAQAAAAAABAAgAFAAAQAAAAAABQAcAHAAAQAAAAAABgAQAIwAAQAAAAAACAAAAJwAAwABBAkAAQAgAAAAAwABBAkAAgAOACAAAwABBAkAAwAiAC4AAwABBAkABAAgAFAAAwABBAkABQAcAHAAAwABBAkABgAQAIwAAwABBAkACAAAAJwAUwBUAEkAWAAtAFIAZQBnAHUAbABhAHIALQBUAFQARgBSAGUAZwB1AGwAYQByACAAUwBUAEkAWAAtAFIAZQBnAHUAbABhAHIALQBUAFQARgBTAFQASQBYAC0AUgBlAGcAdQBsAGEAcgAtAFQAVABGAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAuADEAIFNUSVgtUmVndWxhci1UVEYAAAADAAAAAAAAAf8A%2FwAAAAAAAAAAAAAAAAAAAAAAAAAAAEu4AMhSWLEBAY5ZsAG5CAAIAGNwsQAHQrYAX0s3IwUAKrEAB0JADGYCUgg%2BCCoIGAcFCCqxAAdCQAxqAFwGSAY0BiEFBQgqsQAMQr4ZwBTAD8AKwAZAAAUACSqxABFCvgBAAEAAQABAAEAABQAJKrEDAESxJAGIUViwQIhYsQMARLEmAYhRWLoIgAABBECIY1RYsQMARFlZWVlADGgCVAhACCwIGgcFDCq4Af%2BFsASNsQIARLMFZAYAREQ%3D)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctext%20font-family%3D%22stix_italic5f93f983524def3dca46%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%224.5%22%20y%3D%2216%22%3En%3C%2Ftext%3E%3Ctext%20font-family%3D%22stixf1cab27a940ad377cff6c496573%22%20font-size%3D%2212%22%20text-anchor%3D%22middle%22%20x%3D%2217.5%22%20y%3D%2225%22%3Ecol%3C%2Ftext%3E%3Ctext%20font-family%3D%22stixf1cab27a940ad377cff6c496573%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2232.5%22%20y%3D%2216%22%3E%3D%3C%2Ftext%3E%3Ctext%20font-family%3D%22stixf1cab27a940ad377cff6c496573%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2260.5%22%20y%3D%2216%22%3E10000%3C%2Ftext%3E%3C%2Fsvg%3E), measure the performance of your dmvm binary over a range of row sizes from 1000 to 100000. Plot the resulting data using a roofline plot.

#### Question

What do you think your next step in optimising the code should be?

#### Better compiler options

We’ll stop crippling the compiler. Try increasing the compiler optimisation level. What other optimisation options does the compiler provide? In the discussion note which options produced the fastest results.

#### Exercise

Add the results you get from these runs to your roofline plots. What do you see?

#### Question

Is performance for any of these options independent of the problem size? What do you think the bottleneck for this algorithm is?

#### Loop blocking for out-of-cache performance

You should have observed that when the number of rows gets too large, the performance of the code drops by almost a factor of two. When the number of rows is very large, some of the vector data (which is accessed more than once) no longer fits in cache.

#### Exercise

Use the pessimal cache model to obtain a worst case arithmetic intensity and add these new data points to your roofline plot.

A mechanism to solve this problem is to traverse the data in an order that is aware of the cache. For loop-based code, this is called _loop blocking_ or _tiling_. Have a look at the following implementation: dmvm-blocked.c. Compile it, using the set of compiler options that worked best for the original code. Use -o dmvm-blocked to produce a new binary.

#### Exercise

As before, using a fixed number of columns ﻿﻿![n subscript text col end text end subscript equals 10000](data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Awrs%3D%22http%3A%2F%2Fwww.wiris.com%2Fxml%2Fmathml-extension%22%20height%3D%2230%22%20width%3D%2281%22%20wrs%3Abaseline%3D%2216%22%3E%3C!--MathML%3A%20%3Cmath%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1998%2FMath%2FMathML%22%3E%3Cmsub%3E%3Cmi%3En%3C%2Fmi%3E%3Cmtext%3Ecol%3C%2Fmtext%3E%3C%2Fmsub%3E%3Cmo%3E%3D%3C%2Fmo%3E%3Cmn%3E10000%3C%2Fmn%3E%3C%2Fmath%3E--%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40font-face%7Bfont-family%3A'stix_italic5f93f983524def3dca46'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAAKAIAAAwAgT1MvMi7PBGUAAACsAAAATmNtYXCzVj0TAAAA%2FAAAADRnbHlmJRz6cgAAATAAAACSaGVhZAjbCH4AAAHEAAAANmhoZWEFzQfEAAAB%2FAAAACRobXR4MBdqngAAAiAAAAAIbG9jYQadRmQAAAIoAAAADG1heHAFYQCJAAACNAAAACBuYW1l%2FMdHqQAAAlQAAAF7cG9zdAICAP8AAAPQAAAAIAAAAjsBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINcbAwL%2FGgAAA%2F8BMQAAAAAAAgABAAEAAAAUAAMAAQAAABQABAAgAAAABAAEAAEAAABu%2F%2F8AAABu%2F%2F%2F%2FkwABAAAAAAABAA7%2F9wHaAbkAMQAAJRcOASMiJjU0PwE2NTQjIgYHDgEHIxM2NTQmJzU%2BATcXBz4BMzIWFRQPAQYVFDMyNzYBzA4zNiMUGxAsDhgdRTIhHyRLYAIbJidgGwRDSmwxHyIKOA4QEyoHdQ1GKxsbEDuiNhkdRUkxTnkBXgoHDwsBEAgRBgLadmYhHBkjyzILEjUIAAAAAQAAAAEAAAPuYGJfDzz1AAMD6P%2F%2F%2F%2F%2FT%2FGJk%2F%2F%2F%2F%2F9P8YmT8Nv7PBZUD%2FwAAAAoAAgABAAAAAAABAAAD%2F%2F7PAAAFx%2Fw2%2FhYFlQABAAAAAAAAAAAAAAAAAAAAAgD6AAAB9AAOAAAAAAAAAAAAAACSAAEAAAACAIYACAAAAAAAAgAAAAEAAQAAAEAAAAAAAAAAAAAVAQIAAAAAAAAAAQAWAAAAAAAAAAAAAgAOABYAAAAAAAAAAwAYACQAAAAAAAAABAAWADwAAAAAAAAABQAcAFIAAAAAAAAABgALAG4AAAAAAAAACAAAAHkAAQAAAAAAAQAWAAAAAQAAAAAAAgAOABYAAQAAAAAAAwAYACQAAQAAAAAABAAWADwAAQAAAAAABQAcAFIAAQAAAAAABgALAG4AAQAAAAAACAAAAHkAAwABBAkAAQAWAAAAAwABBAkAAgAOABYAAwABBAkAAwAYACQAAwABBAkABAAWADwAAwABBAkABQAcAFIAAwABBAkABgALAG4AAwABBAkACAAAAHkAUwBUAEkAWAAtAEkAdABhAGwAaQBjAFIAZQBnAHUAbABhAHIAIABTAFQASQBYAC0ASQB0AGEAbABpAGMAUwBUAEkAWAAtAEkAdABhAGwAaQBjAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAuADEAIFNUSVgtSXRhbGljAAADAAAAAAAAAf8A%2FwAAAAAAAAAAAAAAAAAAAAAAAAAA)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%40font-face%7Bfont-family%3A'stixf1cab27a940ad377cff6c496573'%3Bsrc%3Aurl(data%3Afont%2Ftruetype%3Bcharset%3Dutf-8%3Bbase64%2CAAEAAAANAIAAAwBQT1MvMi8nBU0AAADcAAAATmNtYXDCjdaBAAABLAAAAFxjdnQgSG4BcAAAAYgAAADYZnBnbUUgjnwAAAJgAAANbWdseWYcKO%2BSAAAP0AAAApFoZWFkDLPdGwAAEmQAAAA2aGhlYQjYEyQAABKcAAAAJGhtdHg0LeORAAASwAAAABxsb2NhTQ9wLwAAEtwAAAAgbWF4cBlhFX0AABL8AAAAIG5hbWV4T00CAAATHAAAAZ5wb3N0AgIA%2FwAAFLwAAAAgcHJlcFWzoI8AABTcAAAAvAAAApwBkAAFAAAD6APoAAAAAAPoA%2BgAAAAAAAEA%2BgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICAgAAAAINf%2FAqX%2BvQAAA%2F8B5gAAAAAAAgABAAEAAAAUAAMAAQAAABQABABIAAAADgAIAAIABgAwADEAPQBjAGwAb%2F%2F%2FAAAAMAAxAD0AYwBsAG%2F%2F%2F%2F%2FR%2F9H%2Fxv%2Bh%2F5n%2FlwABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaAFoAHAAcApYAAAHCAAD%2FJwP%2F%2FhoCpP%2FyAcz%2F9v8mA%2F%2F%2BGgBZAFkAIAAgApYAAAKrAcL%2F9v8nA%2F%2F%2BGgKk%2F%2FICqwHM%2F%2Fb%2FJgP%2F%2FhoAWgBaABwAHAKWAAACqwHCAAD%2FJwP%2F%2FhoCpP%2FyAqsBzP%2F2%2FyYD%2F%2F4aAFoAWgAcABwClgEOAqsCOgFQ%2F%2BwD%2F%2F4aAqT%2F8gKrAjr%2F9v%2FsA%2F%2F%2BGgAYABgAGAAYA%2F%2F%2BGgP%2F%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%2BKy2wbyyxADorsD8rLbBwLLAAFrEAOiuwQCstsHEssQE6K7A%2BKy2wciyxATorsD8rLbBzLLAAFrEBOiuwQCstsHQssQA7Ky6xLgEUKy2wdSyxADsrsD4rLbB2LLEAOyuwPystsHcssQA7K7BAKy2weCyxATsrsD4rLbB5LLEBOyuwPystsHossQE7K7BAKy2weyyxADwrLrEuARQrLbB8LLEAPCuwPistsH0ssQA8K7A%2FKy2wfiyxADwrsEArLbB%2FLLEBPCuwPistsIAssQE8K7A%2FKy2wgSyxATwrsEArLbCCLLEAPSsusS4BFCstsIMssQA9K7A%2BKy2whCyxAD0rsD8rLbCFLLEAPSuwQCstsIYssQE9K7A%2BKy2whyyxAT0rsD8rLbCILLEBPSuwQCstsIksswkEAgNFWCEbIyFZQiuwCGWwAyRQeLEFARVFWDBZLQAAAAACABj%2F8gHcAqQAEAAcAB9AHAACAgFfAAEBSEsAAwMAXwAAAEkATCQkJyQECRgrARQOAiMiLgI1ND4BMzIWBzQmIyIGFRQWMzI2AdwaM1o7PVwyFy5rTWJ8YENBPkJCQD9DAUpDd2Q6Pmh2Ql2VYsCfnqeomZqjowABAG8AAAGKAqQAEgAmQCMMCwIBAgFKDgECSAACAQKDAwEBAQBdAAAAQQBMGCQREAQJGCspATU%2BATURNCMiDwE1NxcRFBYzAYr%2B7DcoHg4fG7MJKDcPAyMqAcExDAoOWwP9qyEcAAIAMAB4An0BggADAAcAIkAfAAEAAAMBAGUAAwICA1UAAwMCXQACAwJNEREREAQJGCsBITUhESE1IQJ9%2FbMCTf2zAk0BQEL%2B9kIAAQAZ%2F%2FYBnAHMACAALkArAQEEAgFKAAIDBAMCBH4AAwMBXwABAUtLAAQEAF8AAABMAEwkJCQlJAUJGSslFwYHBiMiJjU0NzYzMhYVFAYjIi8BLgEjIgYVFBYzMjYBjg4rJzNAU2tUPkk%2FWxwTIw0GCBgbPUtWRSs%2BnAlUHyp9YX9GMz0qERkuFhwUYE5WbSkAAQATAAABAQKrABMAKEAlCwECAQIBAAICSg8MAgFIAAECAYMAAgIAXQAAAEEATBgnEAMJFyshIzU%2BATURNCYjIgc1NjcXERQWFwEB7C8eEhgVEF8%2FBRwvDwQfKgHVJBwCEBcVBP2wKhsDAAIAHf%2F2AdYBzAALABkAH0AcAAICAV8AAQFLSwADAwBfAAAATABMJSUkIgQJGCslFAYjIiY1NDYzMhYHNCcmIyIGFRQXFjMyNgHWfWRcfHxlXXtaMig3NEA1Ijg3P%2BdpiIdnaIB%2FgXJAMlVKgE0yYwAAAAABAAAAAQAAM5ipa18PPPUAAwPo%2F%2F%2F%2F%2F9RjTQ3%2F%2F%2F%2F%2F1GNNDfw2%2FhoIoAP%2FAAAACgACAAEAAAAAAAEAAAP%2F%2FhoAAAj4%2FDb9yQigAAEAAAAAAAAAAAAAAAAAAAAHAPoAAAH0ABgB9ABvAq0AMAG8ABkBFgATAfQAHQAAAAAAAAAAAAAAeAAAAN0AAAEnAAABtwAAAiEAAAKRAAEAAAAHBwwBLQAAAAAAAgOIA5oAiwAABdgK1QAAAAAAAAAVAQIAAAAAAAAAAQAgAAAAAAAAAAAAAgAOACAAAAAAAAAAAwAiAC4AAAAAAAAABAAgAFAAAAAAAAAABQAcAHAAAAAAAAAABgAQAIwAAAAAAAAACAAAAJwAAQAAAAAAAQAgAAAAAQAAAAAAAgAOACAAAQAAAAAAAwAiAC4AAQAAAAAABAAgAFAAAQAAAAAABQAcAHAAAQAAAAAABgAQAIwAAQAAAAAACAAAAJwAAwABBAkAAQAgAAAAAwABBAkAAgAOACAAAwABBAkAAwAiAC4AAwABBAkABAAgAFAAAwABBAkABQAcAHAAAwABBAkABgAQAIwAAwABBAkACAAAAJwAUwBUAEkAWAAtAFIAZQBnAHUAbABhAHIALQBUAFQARgBSAGUAZwB1AGwAYQByACAAUwBUAEkAWAAtAFIAZQBnAHUAbABhAHIALQBUAFQARgBTAFQASQBYAC0AUgBlAGcAdQBsAGEAcgAtAFQAVABGAFYAZQByAHMAaQBvAG4AIAAxAC4AMQAuADEAIFNUSVgtUmVndWxhci1UVEYAAAADAAAAAAAAAf8A%2FwAAAAAAAAAAAAAAAAAAAAAAAAAAAEu4AMhSWLEBAY5ZsAG5CAAIAGNwsQAHQrYAX0s3IwUAKrEAB0JADGYCUgg%2BCCoIGAcFCCqxAAdCQAxqAFwGSAY0BiEFBQgqsQAMQr4ZwBTAD8AKwAZAAAUACSqxABFCvgBAAEAAQABAAEAABQAJKrEDAESxJAGIUViwQIhYsQMARLEmAYhRWLoIgAABBECIY1RYsQMARFlZWVlADGgCVAhACCwIGgcFDCq4Af%2BFsASNsQIARLMFZAYAREQ%3D)format('truetype')%3Bfont-weight%3Anormal%3Bfont-style%3Anormal%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctext%20font-family%3D%22stix_italic5f93f983524def3dca46%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%224.5%22%20y%3D%2216%22%3En%3C%2Ftext%3E%3Ctext%20font-family%3D%22stixf1cab27a940ad377cff6c496573%22%20font-size%3D%2212%22%20text-anchor%3D%22middle%22%20x%3D%2217.5%22%20y%3D%2225%22%3Ecol%3C%2Ftext%3E%3Ctext%20font-family%3D%22stixf1cab27a940ad377cff6c496573%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2232.5%22%20y%3D%2216%22%3E%3D%3C%2Ftext%3E%3Ctext%20font-family%3D%22stixf1cab27a940ad377cff6c496573%22%20font-size%3D%2216%22%20text-anchor%3D%22middle%22%20x%3D%2260.5%22%20y%3D%2216%22%3E10000%3C%2Ftext%3E%3C%2Fsvg%3E), measure the performance of your dmvm-blocked binary over a range of row sizes from 1000 to 100000. You should observe that the performance is now largely insensitive to the number of rows. Plot the resulting data using a roofline plot.

#### Question

What do you think your next step (if any) in optimising the code should be?

1. This code is taken from [examples](https://github.com/RRZE-HPC/Code-teaching) developed at [RRZE](https://www.rrze.fau.de/)
